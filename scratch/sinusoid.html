<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Sinusoid plot</title>

    <link rel="stylesheet" type="text/css" href="http://jsxgraph.uni-bayreuth.de/distrib/jsxgraph.css" />
</head>

<body>
  <div id="plot" class="jxgbox" style="width:850px; height:500px;"></div>

  <script type="text/javascript" src="http://jsxgraph.uni-bayreuth.de/distrib/jsxgraphcore.js"></script>
  <script type="text/javascript" src="../src/helpers.js" type="text/javascript"> </script>
  <script type="text/javascript" src="../src/primitives.js" type="text/javascript"></script>
  <script type="text/javascript" src="../src/library.js" type="text/javascript"></script>

  <script type="text/javascript">

    // variables that control the plot "window" 
    // (i.e., the minimum and maximum values on the x-axis)
    PERIOD = 2 * Math.PI;
    plotTopLeftX = 0;
    plotTopLeftY = 1.1;
    plotBottomRightX = plotTopLeftX + PERIOD;
    plotBottomRightY = -1.1;

    // draw the graph and plot two functions
    var board = JXG.JSXGraph.initBoard('plot', 
                                       {boundingbox: [plotTopLeftX, plotTopLeftY, plotBottomRightX, plotBottomRightY], 
                                        axis: true,
                                        showCopyright: false});

    var sinPlot = board.create('functiongraph', 
                              [function(x){return Math.sin(x);}],
                              {strokeColor: 'blue'});

    var cosPlot = board.create('functiongraph', 
                              [function(x){return Math.cos(x);}],
                              {strokeColor: 'red'});

    // set up the timer
    var tau = Timer(10, function(t) {
                          XValue = (t/15) % (PERIOD); 
                          updateConstraints();
                          board.fullUpdate();
                        }, function() {
                          XValue = 0;
                          updateConstraints();
                          board.fullUpdate();
                        }); // executes every 10ms (.01s)
    
    tau.start();

    // constraints
    function updateConstraints() {
        boundingBox = [XValue - PERIOD, plotTopLeftY, XValue, plotBottomRightY];
        board.setBoundingBox(boundingBox);
    }

  </script>
</body>
</html>
